from mininet.topo import Topo


class ExperimentTopo(Topo):
    def __init__(self):
        # init topology
        Topo.__init__(self)

        # add hosts and switches
        h1 = self.addHost("h1")
        h2 = self.addHost("h2")
        h3 = self.addHost("h3")
        h4 = self.addHost("h4")
        h5 = self.addHost("h5")
        h6 = self.addHost("h6")
        h7 = self.addHost("h7")
        h8 = self.addHost("h8")
        h9 = self.addHost("h9")
        h10 = self.addHost("h10")
        h11 = self.addHost("h11")
        h12 = self.addHost("h12")
        h13 = self.addHost("h13")
        h14 = self.addHost("h14")
        h15 = self.addHost("h15")
        h16 = self.addHost("h16")
        h17 = self.addHost("h17")
        h18 = self.addHost("h18")
        h19 = self.addHost("h19")
        h20 = self.addHost("h20")
        h21 = self.addHost("h21")
        h22 = self.addHost("h22")
        h23 = self.addHost("h23")
        h24 = self.addHost("h24")
        h25 = self.addHost("h25")
        h26 = self.addHost("h26")
        h27 = self.addHost("h27")
        h28 = self.addHost("h28")
        h29 = self.addHost("h29")
        h30 = self.addHost("h30")
        h31 = self.addHost("h31")
        h32 = self.addHost("h32")

        s1 = self.addSwitch("s1")
        s2 = self.addSwitch("s2")
        s3 = self.addSwitch("s3")
        s4 = self.addSwitch("s4")
        s5 = self.addSwitch("s5")
        s6 = self.addSwitch("s6")
        s7 = self.addSwitch("s7")
        s8 = self.addSwitch("s8")
        s9 = self.addSwitch("s9")
        s10 = self.addSwitch("s10")
        s11 = self.addSwitch("s11")
        s12 = self.addSwitch("s12")
        s13 = self.addSwitch("s13")
        s14 = self.addSwitch("s14")
        s15 = self.addSwitch("s15")
        s16 = self.addSwitch("s16")
        s17 = self.addSwitch("s17")
        s18 = self.addSwitch("s18")
        s19 = self.addSwitch("s19")
        s20 = self.addSwitch("s20")

        # add links
        # edge
        self.addLink(h1, s1)
        self.addLink(h2, s1)
        self.addLink(h3, s1)
        self.addLink(h4, s1)
        self.addLink(h5, s2)
        self.addLink(h6, s2)
        self.addLink(h7, s2)
        self.addLink(h8, s2)
        self.addLink(h9, s3)
        self.addLink(h10, s3)
        self.addLink(h11, s3)
        self.addLink(h12, s3)
        self.addLink(h13, s4)
        self.addLink(h14, s4)
        self.addLink(h15, s4)
        self.addLink(h16, s4)
        self.addLink(h17, s5)
        self.addLink(h18, s5)
        self.addLink(h19, s5)
        self.addLink(h20, s5)
        self.addLink(h21, s6)
        self.addLink(h22, s6)
        self.addLink(h23, s6)
        self.addLink(h24, s6)
        self.addLink(h25, s7)
        self.addLink(h26, s7)
        self.addLink(h27, s7)
        self.addLink(h28, s7)
        self.addLink(h29, s8)
        self.addLink(h30, s8)
        self.addLink(h31, s8)
        self.addLink(h32, s8)

        # aggregation
        self.addLink(s1, s9)
        self.addLink(s1, s10)
        self.addLink(s2, s9)
        self.addLink(s2, s10)
        self.addLink(s3, s11)
        self.addLink(s3, s12)
        self.addLink(s4, s11)
        self.addLink(s4, s12)
        self.addLink(s5, s13)
        self.addLink(s5, s14)
        self.addLink(s6, s13)
        self.addLink(s6, s14)
        self.addLink(s7, s15)
        self.addLink(s7, s16)
        self.addLink(s8, s15)
        self.addLink(s8, s16)

        # core
        self.addLink(s9, s17)
        self.addLink(s9, s18)
        self.addLink(s10, s19)
        self.addLink(s10, s20)
        self.addLink(s11, s17)
        self.addLink(s11, s18)
        self.addLink(s12, s19)
        self.addLink(s12, s20)
        self.addLink(s13, s17)
        self.addLink(s13, s18)
        self.addLink(s14, s19)
        self.addLink(s14, s20)
        self.addLink(s15, s17)
        self.addLink(s15, s18)
        self.addLink(s16, s19)
        self.addLink(s16, s20)


class LinearTopo(Topo):
    def __init__(self):
        # init topology
        Topo.__init__(self)

        # add hosts and switches
        h1 = self.addHost("h1")
        h2 = self.addHost("h2")

        s1 = self.addSwitch("s1")
        s2 = self.addSwitch("s2")

        # add links
        self.addLink(h1, s1)
        self.addLink(h2, s2)
        self.addLink(s1, s2)


topos = {"exp": (lambda: ExperimentTopo()), "linear": (lambda: LinearTopo())}
